import{a as s}from"./assets/vendor-a2e8d7fa.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const i=s.create({baseURL:"https://dummyjson.com"});async function l(t){return(await i.get(`/products/${t}`)).data}async function m(t){return(await i.delete(`/products/${t}`)).data}async function f(t){return(await i.post("/products/add",t)).data}function a({title:t,description:e,price:n}){return` <h3>${t}</h3>
        <p>${e}</p>
        <p>${n}</p>`}const u={allProducts:document.querySelector("#allProducts"),formSingleProductForm:document.querySelector("#singleProductForm"),divSingleProduct:document.querySelector("#singleProduct"),deletionProductFormElem:document.querySelector("#deletionProductForm"),newProductForm:document.querySelector("#createProductForm"),newProductDiv:document.querySelector("#newProductSection")};async function p(t){try{t.preventDefault();const e=t.currentTarget.elements.id.value.trim(),n=await l(e),c=a(n);u.divSingleProduct.innerHTML=c}catch(e){console.log(e)}}async function P(t){try{t.preventDefault();const e=t.currentTarget.elements.deletionId.value.trim(),n=await m(e);alert(`SUCCESS! delete product with name ${n.title}`)}catch(e){alert(`ERROR ${e}`)}}async function y(t){try{t.preventDefault();const e={};new FormData(t.currentTarget).forEach((r,o)=>{e[o]=r});const n=await f(e),c=a(n);u.newProductDiv.innerHTML=c,u.newProductForm.reset()}catch(e){console.log(e)}}u.formSingleProductForm.addEventListener("submit",p);u.deletionProductFormElem.addEventListener("submit",P);u.newProductForm.addEventListener("submit",y);
//# sourceMappingURL=commonHelpers.js.map
