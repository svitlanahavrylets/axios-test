{"version":3,"file":"commonHelpers.js","sources":["../src/services/api.js","../src/requests/products.js","../src/services/markupService.js","../src/js/refs.js","../src/js/onSingleProductSubmit.js","../src/js/deleteProductById.js","../src/js/createProductFormSubmit.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst apiInstance = axios.create({\n  baseURL: 'https://dummyjson.com',\n});\n\nexport default apiInstance;\n","import apiInstance from '../services/api';\nexport async function getProducts() {\n  const result = await apiInstance.get('/products');\n  return result.data;\n}\nexport async function getProductById(id) {\n  const product = await apiInstance.get(`/products/${id}`);\n  return product.data;\n}\n\nexport async function deleteProduct(id) {\n  const product = await apiInstance.delete(`/products/${id}`);\n  return product.data;\n}\nexport async function addNewProduct(data) {\n  const newProduct = await apiInstance.post('/products/add', data);\n  return newProduct.data;\n}\n","export function createProductsMarkup(data) {\n  return data\n    .map(\n      ({ title, description, price }) => `<li>\n        <h3>${title}</h3>\n        <p>${description}</p>\n        <p>${price}</p>\n      </li>`\n    )\n    .join('');\n}\n\nexport function createMarkupProduct({ title, description, price }) {\n  return ` <h3>${title}</h3>\n        <p>${description}</p>\n        <p>${price}</p>`;\n}\n","export const refs = {\n  allProducts: document.querySelector('#allProducts'),\n  formSingleProductForm: document.querySelector('#singleProductForm'),\n  divSingleProduct: document.querySelector('#singleProduct'),\n\n  deletionProductFormElem: document.querySelector('#deletionProductForm'),\n\n  newProductForm: document.querySelector('#createProductForm'),\n  newProductDiv: document.querySelector('#newProductSection'),\n};\n","import { refs } from './refs';\nimport { getProductById } from '../requests/products';\nimport { createMarkupProduct } from '../services/markupService';\nexport async function onSingleProductSubmit(e) {\n  try {\n    e.preventDefault();\n    const id = e.currentTarget.elements.id.value.trim();\n    const product = await getProductById(id);\n    const markup = createMarkupProduct(product);\n    refs.divSingleProduct.innerHTML = markup;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { deleteProduct } from '../requests/products';\n\nexport async function deleteProductById(e) {\n  try {\n    e.preventDefault();\n    const id = e.currentTarget.elements.deletionId.value.trim();\n    const product = await deleteProduct(id);\n    alert(`SUCCESS! delete product with name ${product.title}`);\n  } catch (error) {\n    alert(`ERROR ${error}`);\n  }\n}\n","import { addNewProduct } from \"../requests/products\"\nimport{createMarkupProduct} from \"../services/markupService\"\nimport { refs } from \"./refs\"\n\nexport async function createProductFormSubmit(e){\n\ntry {\ne.preventDefault()\n  const data={}\n\n  new FormData(e.currentTarget).forEach((value,key)=>{\n    data[key]=value\n  })\n\nconst newProduct=await addNewProduct(data)\nconst markup=createMarkupProduct(newProduct)\nrefs.newProductDiv.innerHTML=markup\nrefs.newProductForm.reset()\n} catch (error) {\nconsole.log(error)\n}\n\n}\n","import './styles/normalize.css';\nimport './styles/index.css';\nimport { getProducts } from './requests/products';\nimport { createProductsMarkup } from './services/markupService';\nimport { refs } from './js/refs';\nimport { onSingleProductSubmit } from './js/onSingleProductSubmit';\n\nimport { deleteProductById } from './js/deleteProductById';\n\nimport { createProductFormSubmit } from './js/createProductFormSubmit';\n\nasync function renderProducts() {\n  try {\n    const data = await getProducts();\n    const markup = createProductsMarkup(data.products);\n    refs.allProducts.innerHTML = markup;\n  } catch (error) {\n    // console.log(error);\n  }\n}\n// renderProducts();\n\nrefs.formSingleProductForm.addEventListener('submit', onSingleProductSubmit);\n\nrefs.deletionProductFormElem.addEventListener('submit', deleteProductById);\n\nrefs.newProductForm.addEventListener('submit', createProductFormSubmit);\n"],"names":["apiInstance","axios","getProductById","id","deleteProduct","addNewProduct","data","createMarkupProduct","title","description","price","refs","onSingleProductSubmit","e","product","markup","error","deleteProductById","createProductFormSubmit","value","key","newProduct"],"mappings":"svBACA,MAAMA,EAAcC,EAAM,OAAO,CAC/B,QAAS,uBACX,CAAC,ECEM,eAAeC,EAAeC,EAAI,CAEvC,OADgB,MAAMH,EAAY,IAAI,aAAaG,GAAI,GACxC,IACjB,CAEO,eAAeC,EAAcD,EAAI,CAEtC,OADgB,MAAMH,EAAY,OAAO,aAAaG,GAAI,GAC3C,IACjB,CACO,eAAeE,EAAcC,EAAM,CAExC,OADmB,MAAMN,EAAY,KAAK,gBAAiBM,CAAI,GAC7C,IACpB,CCLO,SAASC,EAAoB,CAAE,MAAAC,EAAO,YAAAC,EAAa,MAAAC,CAAK,EAAI,CACjE,MAAO,QAAQF;AAAA,aACJC;AAAA,aACAC,OACb,CChBO,MAAMC,EAAO,CAClB,YAAa,SAAS,cAAc,cAAc,EAClD,sBAAuB,SAAS,cAAc,oBAAoB,EAClE,iBAAkB,SAAS,cAAc,gBAAgB,EAEzD,wBAAyB,SAAS,cAAc,sBAAsB,EAEtE,eAAgB,SAAS,cAAc,oBAAoB,EAC3D,cAAe,SAAS,cAAc,oBAAoB,CAC5D,ECNO,eAAeC,EAAsBC,EAAG,CAC7C,GAAI,CACFA,EAAE,eAAc,EAChB,MAAMV,EAAKU,EAAE,cAAc,SAAS,GAAG,MAAM,OACvCC,EAAU,MAAMZ,EAAeC,CAAE,EACjCY,EAASR,EAAoBO,CAAO,EAC1CH,EAAK,iBAAiB,UAAYI,CACnC,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CCXO,eAAeC,EAAkBJ,EAAG,CACzC,GAAI,CACFA,EAAE,eAAc,EAChB,MAAMV,EAAKU,EAAE,cAAc,SAAS,WAAW,MAAM,OAC/CC,EAAU,MAAMV,EAAcD,CAAE,EACtC,MAAM,qCAAqCW,EAAQ,OAAO,CAC3D,OAAQE,EAAP,CACA,MAAM,SAASA,GAAO,CACvB,CACH,CCPO,eAAeE,EAAwBL,EAAE,CAEhD,GAAI,CACJA,EAAE,eAAgB,EAChB,MAAMP,EAAK,CAAE,EAEb,IAAI,SAASO,EAAE,aAAa,EAAE,QAAQ,CAACM,EAAMC,IAAM,CACjDd,EAAKc,GAAKD,CACd,CAAG,EAEH,MAAME,EAAW,MAAMhB,EAAcC,CAAI,EACnCS,EAAOR,EAAoBc,CAAU,EAC3CV,EAAK,cAAc,UAAUI,EAC7BJ,EAAK,eAAe,MAAO,CAC3B,OAASK,EAAP,CACF,QAAQ,IAAIA,CAAK,CACjB,CAEA,CCAAL,EAAK,sBAAsB,iBAAiB,SAAUC,CAAqB,EAE3ED,EAAK,wBAAwB,iBAAiB,SAAUM,CAAiB,EAEzEN,EAAK,eAAe,iBAAiB,SAAUO,CAAuB"}